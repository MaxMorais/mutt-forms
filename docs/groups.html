<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Groups Overview</title>
    <link rel="stylesheet" href="assets/milligram.min.css">
    <link rel="stylesheet" href="assets/doc.css">
    <script src="../build/pug.js"></script>
    <script>
    var pugForm;

    function fakeSubmit(data) {
        window.console.log('Submitted form!');
        window.console.log(data);
    }

    function main() {
        pugForm = new Pug(
            document.getElementById('demo'),
            {
      "properties": {
        "insured_entities": {
          "items": {
            "max_entries": 10, 
            "min_entries": 1, 
            "properties": {
              "address_1": {
                "title": "Address 1", 
                "type": "string"
              }, 
              "address_2": {
                "title": "Address 2", 
                "type": "string"
              }, 
              "address_city": {
                "title": "Address City", 
                "type": "string"
              }, 
              "address_postcode": {
                "required": true, 
                "title": "Address Postcode", 
                "type": "string"
              }, 
              "breed": {
                "required": true, 
                "title": "Breed", 
                "type": "string"
              }, 
              "dob": {
                "format": "date", 
                "required": true, 
                "title": "Date of Birth", 
                "type": "string"
              }, 
              "gender": {
                "enum": [
                  "MALE", 
                  "FEMALE"
                ], 
                "required": true, 
                "title": "Gender", 
                "type": "string"
              }, 
              "healthy": {
                "required": true, 
                "title": "Is your pet healthy and well?", 
                "type": "boolean"
              }, 
              "pedigree": {
                "required": true, 
                "title": "Pedigree", 
                "type": "boolean"
              }, 
              "pet_adjective": {
                "enum": [
                  "BEAUTIFUL", 
                  "FLUFFY", 
                  "SMELLY", 
                  "GRUMPY", 
                  "GORGEOUS"
                ], 
                "title": "Pet Adjective", 
                "type": "string"
              }, 
              "pet_lives": {
                "enum": [
                  "LOVES_UNCONDITIONALLY", 
                  "PEES_ON_THE_CARPET", 
                  "DROOLS", 
                  "SNIFFS_CROTCHES"
                ], 
                "title": "Pet Lives", 
                "type": "string"
              }, 
              "pet_name": {
                "required": true, 
                "title": "Pet Name", 
                "type": "string"
              }, 
              "photo": {
                "title": "Photo", 
                "type": "string"
              }, 
              "species": {
                "enum": [
                  "CAT", 
                  "DOG"
                ], 
                "required": true, 
                "title": "Species", 
                "type": "string"
              }, 
              "value": {
                "required": true, 
                "title": "Value", 
                "type": "integer"
              }
            }, 
            "type": "object"
          }, 
          "type": "array"
        }
      }, 
      "title": "Policy", 
      "type": "object"
            },
            {
                "fieldsets": [
                    {
                      "fields": {
                        "insured_entities": {}
                      }, 
                      "fieldsets": [
                        {
                            "fields": {
                              "pet_adjective": {}, 
                              "pet_name": {}, 
                              "species": {}
                            }
                        },
                        {
                            "options": {
                              "class": "hide"
                            },
                            "fields": {
                              "gender": {}, 
                              "breed": {}, 
                              "dob": {}
                            }
                        }
                      ]
                    }
                  ]
            },
            (data) => {
                fakeSubmit(data);
            },
            true
        );

        pugForm.setFormId('demo-form');
        pugForm.render().then((form) => {
            window.console.log('Rendered -> ' + form.id);
        });
        
    }

    document.addEventListener('DOMContentLoaded', main);
    </script>
</head>
<body>
    <main class="wrapper">
        <section class="container">
            <h3>Groups</h3>
            <p>Grouped forms</p>
            <div id="demo"></div>
            
        </section>
    </main>
</body>
</html>


<!-- fieldsets: [
    {
        fields: {
            test_1: {
                fieldsets: [
                    {
                        fields: {
                            test_foo: {}
                        }
                    }
                ]
            },
            test_2: {},
            test_3: {}
        }
    },
    {
        fields: {
            test_4: {},
            test_5: {}
        },
        options: {
            lazy: true
        }
    }
] -->