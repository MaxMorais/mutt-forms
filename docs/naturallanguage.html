<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Natural Language Overview</title>
    <link rel="stylesheet" href="assets/milligram.min.css">
    <link rel="stylesheet" href="assets/doc.css">
    <script src="../build/plugins.js"></script>
    <script src="assets/doc-form.js"></script>
    <script>
    var pugForm;

    function fakeSubmit(data) {
        window.console.log('Submitted form!');
        window.console.log(data);
    }

    function main() {
        pugForm = new Pug(
            document.getElementById('natural'),
            {
                title: "Natural Language",
                properties: {
                    name: {
                        type: "string",
                        required: true,
                        title: "Name"
                    },
                    breed: {
                        type: "string",
                        required: true,
                        title: "Breed",
                        enum: [
                            "Border Collie",
                            "Terrier"
                        ]
                    }
                }
            },
            {
                fields: {
                    name: {
                        widget: 'naturaltext',
                        natural: {
                            prefix: 'Hello, I have a dog called ',
                            trigger: 'Gary',
                            suffix: ''
                        }
                    },
                    breed: {
                        widget: 'naturalselect',
                        natural: {
                            prefix: ' and he is a ',
                            trigger: 'Pug',
                            suffix: ''
                        }
                    }
                }
            },
            (data) => {
                fakeSubmit(data);
            },
            true
        );

        pugForm.setFormId('demo-natural-form');
        pugForm.render().then((form) => {
            window.console.log('Rendered -> ' + form.id);
        });
    }

    document.addEventListener('DOMContentLoaded', main);
    </script>
    <style>
    .pug-natural-modal {
        display: none;
    }

    .pug-natural-modal-active {
        display: block;
    }
    </style>
</head>
<body>
    <main class="wrapper">
        <section class="container">
            <h3>Natural Language Forms</h3>
            <div id="natural"></div>
        </section>
    </main>
</body>
</html>